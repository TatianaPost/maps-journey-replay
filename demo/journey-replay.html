<!DOCTYPE html>
<html>
<head>
    <!--<script src="../src/lib.js"></script>-->
    <!--<script src="../src/map-providers/googleMaps.js"></script>-->
    <!--<script src="../src/models/Locations.js"></script>-->
    <!--<script src="../src/journeyReplay.js"></script>-->
    <script src="../src/GradientGenerator.js"></script>
    <script src="../src/map-providers/googleMaps.js"></script>
    <script src="../journeyReplay.all.js"></script>
</head>
    <body>
        <div id="map" style="height: 100vh"></div>
    <script>
        function initMap() {
            var mapJourneyReplay = new journeyReplay({
                type: journeyReplay.REPLAY_TYPE.DYNAMIC_MARKER_AND_POLY_LINES_COLOURED_BY_SPEED,
                logger: function () {},
                gradientGenerator: function (options) {
                    return new GradientGenerator({colours: options.speedColours, steps: options.steps}).hex()
                },
                fetchMapPoints: {
                    url: window.location.origin + '/journey.json'
                },
                mapProvider   : googleMaps,
                marker: {
                    icon: 'images/bus.svg',
                    anchor: [39, 60],
                    size: [100, 100],
                    scaledSize: [100, 75],
                    onFrame: function (currentFrame, speed, distance, animationHandler) {
                        // do stuff
                    },
                    onLocation: function (currentLocation) {
                        // do stuff
                    }
                }
            });

            mapJourneyReplay.marker.onFrame(function (currentFrame, speed, distance, animationHandler) {
                // do stuff
            });

            mapJourneyReplay.marker.onLocation(function (currentLocation) {
                // do stuff
            });

            mapJourneyReplay.init();
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&amp;libraries=geometry&amp;callback=initMap"></script>
    </body>
</html>